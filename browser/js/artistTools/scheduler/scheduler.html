<ng-include src="'js/home/views/navigation.html'"></ng-include>
<!-- Content Start  -->
<div class="container">
  <div class="content-area bg-white">
    <ng-include src="'js/artistTools/ArtistTools/navigation.html'"></ng-include>
    <div class="row">
      <h3 style="text-align:center;">{{user.displayName}}</h3>
      <div id="scheduler-container">
        <div style="width:100%; height:35px; display:flex; flex-direction:row; ">
          <button class="btn btn-default btn-scheduler" ng-click="decrDay()"><img style="width:60%; height:80%; margin-right:-4px;" src="/assets/images/arrow-left.png"/></button>
          <button class="btn btn-default btn-scheduler" ng-click="incrDay()" ><img id="scheduler-btn-back" style="width:60%; height:80%;" src="/assets/images/arrow-right.png"/></button>
          <div class="bold cell-date" ng-repeat="t in [0,1,2,3,4,5,6]">
            {{dayOfWeekAsString(calendar[t+dayIncr].day)}}
            <br>
            {{calendar[t+dayIncr].day.toLocaleDateString()}}
          </div>
        </div>
        <div style="width:100%; display:flex; flex-direction:row;">
          <div class="column-time">
            <div ng-repeat="i in ['12 AM','1 AM','2 AM','3 AM','4 AM','5 AM','6 AM','7 AM','8 AM','9 AM','10 AM','11 AM','12 PM','1 PM','2 PM','3 PM','4 PM', '5 PM', '6 PM', '7 PM', '8 PM', '9 PM', '10 PM', '11 PM']" class="cell-time bold" ng-class-odd="'row-dark'" ng-class-even="'row-light'">{{i}}</div>
          </div>   
          <div ng-repeat="l in [0,1,2,3,4,5,6]" class="column-day">
            <div ng-repeat="p in [0,2,4,6,8,10,12,14,16,18,20,22]">
              <div ng-style="(calendar[l+dayIncr].events[p].type == 'queue')?{'background-color':'yellow'}:(calendar[l+dayIncr].events[p].type == 'track')?{'background-color':'#67f967'}:{}" class="row-scheduler row-dark" ng-click="clickedSlot(calendar[l+dayIncr].day,p)">{{calendar[l+dayIncr].events[p].title}}</div>
              <div ng-style="calendar[l+dayIncr].events[p+1].type=='queue'?{'background-color':'yellow'}:(calendar[l+dayIncr].events[p+1].type=='track')?{'background-color':'#67f967'}:{}" class="row-scheduler row-light" ng-click="clickedSlot(calendar[l+dayIncr].day,p+1)">{{calendar[l+dayIncr].events[p+1].title}}</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Queue -->
      <h3 style="text-align:center" class="label-scheduler">Queue</h3>
      <div style="width:70%; text-align:center; margin: 10px auto;">
        <div ng-repeat="song in user.queue" style="padding:10px 0;">
          <div id="{{song}}player" style="display:inline-block; width:90%; background-color:gray; height:150px;"></div>
          <div style="display:inline-block; width: 9%; height:150px; vertical-align: top;">
            <button ng-click="removeQueueSong(user.queue.indexOf(song))" class="btn btn-default btn-queue" ><img style="width:80%; height:90%;margin-top: -15px;" src="/assets/images/x-white.png"/></button>
            <button ng-click="moveUp(user.queue.indexOf(song))" class="btn btn-default btn-queue"><img style="margin-top: -15px;"src="/assets/images/arrow-up.png"/></button>
            <button ng-click="moveDown(user.queue.indexOf(song))" class="btn btn-default btn-queue" ><img style="margin-top: -15px;"src="/assets/images/arrow-down.png"/></button>
          </div>
        </div>
        <br>
      </div>
      <div style="text-align:center">
        <input class="form-control form-scheduler" type="text" ng-model="newQueueSong" ng-change="changeQueueSong()"/>
        <button class="btn btn-default btn-small" ng-click="addSong()">Add</button>
      </div>

      <!-- overlay -->
      <div style="position:absolute; top:0; left:0; right:0; height:5000px; background-color: rgba(0,0,0,0.85); text-align:center;" ng-show="showOverlay">
        <div class="label-scheduler label-smaller" style="width: 500px; height:500px; background-color: white; margin: 100px auto; padding: 50px 0;">
          <span>{{makeEvent.day.toLocaleDateString()}}     {{(makeEvent.day.getHours()%12==0?12:makeEvent.day.getHours()%12)+(makeEvent.day.getHours()<=11?"AM":"PM")}}</span><br><br>
          <span>Queue Slot: </span><input type="checkbox" ng-model="makeEvent.type" ng-true-value="'queue'" ng-false-value="'track'" ng-change="changeQueueSlot()"/><br><br>
          <div ng-hide="(makeEvent.type == 'queue')">
            <span >URL: </span><input type="text" ng-model="makeEventURL" ng-change="changeURL()"/><br><br>
          </div>
          <div id='scPlayer' ng-show="makeEvent.trackID"></div>
          <br>
          <div>
            <button class="btn btn-default btn-small btn-overlay" ng-click="backEvent()">Back</button>
            <button class="btn btn-default btn-small btn-overlay" ng-click="deleteEvent()" style="margin:0 30px 0 30px;">Delete</button>
            <button class="btn btn-default btn-small btn-overlay" ng-click="saveEvent()">Save</button>
            <br><br>
            <button ng-click="emailSlot()" style="border:none; background-color:rgba(0,0,0,0);"><img src='assets/images/email_icon.png' style="height:30px; width:50px;"></button>
          </div>
        </div>
        <!-- hideall -->
      </div>
      <div style="position:absolute; top:0; left:0; right:0; height:5000px; background-color: rgba(0,0,0,1); z-index: 1000;" ng-show="hideall">
      </div>
    </div>
  </div>
</div>
<ng-include src="'js/home/views/loader.html'"></ng-include>
