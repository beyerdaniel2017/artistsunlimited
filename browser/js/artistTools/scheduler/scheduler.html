<ng-include src="'js/artistTools/ArtistTools/header-navigation.html'"></ng-include>
<!-- Content Start  -->
<div id="wrapper">
  <ng-include src="'js/artistTools/ArtistTools/navigation.html'"></ng-include>
  <div class="container-fluid height-100pr" ng-init="getTrackListFromSoundcloud()">
    <div class="row">
      <div class="col-md-12 ">
        <div class="page-content right-side"><!--page-contant Start-->
          <div class="row">
            <h3 style="text-align:center;">{{user.displayName}}</h3>
            <div id="scheduler-container">
              <div style="width:100%; height:35px; display:flex; flex-direction:row;margin-bottom: 10px; ">
                <button class="btn btn-default btn-scheduler" ng-click="decrDay()"><img style="width:60%; height:80%; margin-right:-4px;" src="/assets/images/arrow-left.png"/></button>
                <div class="bold cell-date" ng-repeat="t in [0,1,2,3,4,5,6]">{{dayOfWeekAsString(calendar[t+dayIncr].day).substring(0,3)}}
                  {{calendar[t+dayIncr].day.getMonth()+1}}/{{calendar[t+dayIncr].day.getDate()}}
                </div>
                <button class="btn btn-default btn-scheduler" ng-click="incrDay()" ><img id="scheduler-btn-back" style="width:60%; height:80%;" src="/assets/images/arrow-right.png"/></button>
              </div>
              <div style="width:100%; display:flex; flex-direction:row;">
                <div class="column-time">
                  <div ng-repeat="i in ['0','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16', '17', '18', '19', '20', '21', '22', '23']" class="cell-time bold">{{i}}</div>
                </div>   
                <div ng-repeat="l in [0,1,2,3,4,5,6]" class="column-day">
                  <div ng-repeat="p in [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]" ng-style="getStyle(calendar[l+dayIncr].events[p])" class="row-scheduler" ng-click="clickedSlot(calendar[l+dayIncr].day, p)" style="position:relative;">
                   <span>{{calendar[l+dayIncr].events[p].title}}</span>
                   <img ng-if="unrepostSymbol(calendar[l+dayIncr].events[p])" class='unrepost-symbol-scheduler' src="assets/images/unrepost_symbol.png"></img>
                 </div>
               </div>
             </div>
             <!-- overlay -->
             <div class="overlay" ng-show="showOverlay">
              <div class="label-scheduler label-smaller slot-box">
                <span style="font-size:1.25em">{{makeEvent.day.toLocaleDateString()}}     {{(makeEvent.day.getHours()%12==0?12:makeEvent.day.getHours()%12)+(makeEvent.day.getHours()<=11?"AM":"PM")}}</span><br><br>
                <div ng-if="!(makeEvent.type=='traded'||makeEvent.type=='paid')">
                  <input type="checkbox" ng-model="makeEvent.type" ng-true-value="'queue'" ng-false-value="'track'" ng-change="changeQueueSlot()"/><span> Autofill Slot</span><br>
                  <input type="checkbox" ng-model="makeEvent.unrepost" ng-change="changeUnrepost()"/><span> Unrepost after 24h</span><br>
                  <div ng-hide="(makeEvent.type == 'queue')">
                    <input type="text" class="form-control form-scheduler" style="width:400px; max-width:90%; text-align: center" ng-model="makeEventURL" ng-change="changeURL()" placeholder="Soundcloud Track Url" />
                    <select class="form-control form-scheduler" ng-model="trackListSlotObj" ng-options="item.title for item in trackList" style="text-align:center; width:400px; max-width:90%;" ng-change="trackChange()">
                      <option value="" ng-disabled="!!trackListSlotObj" ng-show="trackList.length > 0">-My Songs-</option>
                    </select>
                  </div>
                </div>
                <div id='scPlayer' ng-show="makeEvent.trackID"></div>
                <br>
                <div>
                  <button class="btn btn-default btn-small btn-overlay" ng-click="backEvent()">Back</button>
                  <button ng-if="!(makeEvent.type=='traded'||makeEvent.type=='paid')" class="btn btn-default btn-small btn-overlay" ng-click="deleteEvent()" style="margin:0 30px 0 30px;">Delete</button>
                  <button ng-if="!(makeEvent.type=='traded'||makeEvent.type=='paid')" class="btn btn-default btn-small btn-overlay" ng-click="saveEvent()">Save</button>
                  <br><br>
                  <button ng-click="emailSlot()" style="border:none; background-color:rgba(0,0,0,0);"><img src='assets/images/email_icon.png' style="height:30px; width:50px;"></button>
                </div>
              </div>
              <div style="position:absolute; top:0; left:0; right:0; height:5000px; background-color: rgba(0,0,0,1); z-index: 1000;" ng-show="hideall">
              </div>
            </div>
          </div>
        </div>
        <ng-include src="'js/home/views/loader.html'"></ng-include>
      </div>
    </div>
  </div>
</div>
