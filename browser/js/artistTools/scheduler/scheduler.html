<ng-include src="'js/artistTools/ArtistTools/header-navigation.html'"></ng-include>
<!-- Content Start  -->

<div class="container-fluid height-100pr padding0">
  <ng-include src="'js/artistTools/ArtistTools/navigation.html'"></ng-include>
  <div class="col-md-10 height-100pr">
    <div class="page-content right-side"><!--page-contant Start-->
            <div class="row">
      <h3 style="text-align:center;">{{user.displayName}}</h3>
      <div id="scheduler-container">
        <div style="width:100%; height:35px; display:flex; flex-direction:row; ">
          <button class="btn btn-default btn-scheduler" ng-click="decrDay()"><img style="width:60%; height:80%; margin-right:-4px;" src="/assets/images/arrow-left.png"/></button>
          <div class="bold cell-date" ng-repeat="t in [0,1,2,3,4,5,6]">{{dayOfWeekAsString(calendar[t+dayIncr].day)}}<br>
            {{calendar[t+dayIncr].day.toLocaleDateString()}} </div>
                  <button class="btn btn-default btn-scheduler" ng-click="incrDay()" ><img id="scheduler-btn-back" style="width:60%; height:80%;" src="/assets/images/arrow-right.png"/></button>
        </div>
        <div style="width:100%; display:flex; flex-direction:row;">
          <div class="column-time">
                    <div ng-repeat="i in ['0','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16', '17', '18', '19', '20', '21', '22', '23']" class="cell-time bold">{{i}}</div>
          </div>   
          <div ng-repeat="l in [0,1,2,3,4,5,6]" class="column-day">
             <div ng-repeat="p in [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]" ng-style="getStyle(calendar[l+dayIncr].events[p])" class="row-scheduler" ng-click="clickedSlot(calendar[l+dayIncr].day, p)">{{calendar[l+dayIncr].events[p].title}} </div>
        </div>
      </div>

      <!-- Queue -->
      <h3 style="text-align:center" class="label-scheduler">Queue</h3>
      <div style="width:70%; text-align:center; margin: 10px auto;">
        <div ng-repeat="song in user.queue" style="padding:10px 0;">
          <div id="{{song}}player" style="display:inline-block; width:90%; background-color:gray; height:150px;"></div>
          <div style="display:inline-block; width: 9%; height:150px; vertical-align: top;">
                      <button ng-click="removeQueueSong(user.queue.indexOf(song))" class="btn btn-default btn-queue" ><img style="height: 90%" src="/assets/images/x-gray.png"/></button>
            <button ng-click="moveUp(user.queue.indexOf(song))" class="btn btn-default btn-queue"><img src="/assets/images/arrow-up.png"/></button>
            <button ng-click="moveDown(user.queue.indexOf(song))" class="btn btn-default btn-queue" ><img src="/assets/images/arrow-down.png"/></button>
          </div>
        </div>
        <br>
      </div>
      <div style="text-align:center">
        <input class="form-control form-scheduler" type="text" ng-model="newQueueSong" ng-change="changeQueueSong()"/>
        <button class="btn btn-default btn-small" ng-click="addSong()">Add</button>
      </div>

      <!-- overlay -->
      <div style="position:absolute; top:0; left:0; right:0; height:5000px; background-color: rgba(0,0,0,0.85); text-align:center;" ng-show="showOverlay">
        <div class="label-scheduler label-smaller" style="width: 500px; height:500px; background-color: white; margin: 250px auto; padding: 50px 0;"> <span style="font-size:1.25em">{{makeEvent.day.toLocaleDateString()}}     {{(makeEvent.day.getHours()%12==0?12:makeEvent.day.getHours()%12)+(makeEvent.day.getHours()<=11?"AM":"PM")}}</span><br>
           <br>
           <input type="checkbox" ng-model="makeEvent.type" ng-true-value="'queue'" ng-false-value="'track'" ng-change="changeQueueSlot()"/>
           <span> Queue Slot</span><br>
           <br>
           <input type="checkbox" ng-model="makeEvent.unrepost" ng-change="changeUnrepost()"/>
           <span> Unrepost after 24h</span><br>
           <br>
          <div ng-hide="(makeEvent.type == 'queue')">
             <input type="text" ng-model="makeEventURL" ng-change="changeURL()" placeholder="Soundcloud Url" />
             <br>
             <br>
          </div>
          <div id='scPlayer' ng-show="makeEvent.trackID"></div>
          <br>
          <div>
            <button class="btn btn-default btn-small btn-overlay" ng-click="backEvent()">Back</button>
            <button class="btn btn-default btn-small btn-overlay" ng-click="deleteEvent()" style="margin:0 30px 0 30px;">Delete</button>
            <button class="btn btn-default btn-small btn-overlay" ng-click="saveEvent()">Save</button>
            <br>
            <br>
            <button ng-click="emailSlot()" style="border:none; background-color:rgba(0,0,0,0);"><img src='assets/images/email_icon.png' style="height:30px; width:50px;"></button>
          </div>
        <!-- hideall -->
      </div>
      <div style="position:absolute; top:0; left:0; right:0; height:5000px; background-color: rgba(0,0,0,1); z-index: 1000;" ng-show="hideall"></div>
    </div>
             </div>
          </div>
        </div>
      </div>
    </div>
<ng-include src="'js/home/views/loader.html'"></ng-include>
